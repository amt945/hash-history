{"version":3,"file":"main.js","sources":["webpack:///js/main.js"],"sourcesContent":["\nclass HistoryRoutes {\n  constructor() {\n    // 保存对应键和函数\n    this.routes = {};\n\n    // 页面加载事件\n    window.addEventListener('load', (e) => {\n      const path = e.state && e.state.path;\n      this.routes[path] && this.routes[path]();\n    }, false);\n    // 监听popstate事件\n    window.addEventListener('popstate', (e) => {\n      console.log(e);\n      const path = e.state && e.state.path;\n      this.routes[path] && this.routes[path]();\n    });\n  }\n  route(path, callback) {\n    this.routes[path] = callback || function() {};\n  }\n  init(path) {\n    history.replaceState(null, null, path);\n    this.routes[path] && this.routes[path]();\n  }\n  go(path) {\n    history.pushState(null, null, path);\n    this.routes[path] && this.routes[path]();\n  }\n}\n\nwindow.Router = new HistoryRoutes();\nconsole.log(location.pathname);\nRouter.init(location.pathname);\n\nconst body = document.querySelector('body');\n\nconst changeColor = function(color) {\n  body.style.backgroundColor = color;\n};\n// 注册函数\nRouter.route('/', () => {\n  changeColor('red');\n});\nRouter.route('/a', () => {\n  changeColor('green');\n}); \nRouter.route('/b', () => {\n  changeColor('#CDDC39');\n}); \n\nconst ul = document.querySelector('ul');\nul.addEventListener('click', e => {\n  console.log(e.target);\n  if (e.target.tagName === 'A') {\n    e.preventDefault();\n    Router.go(e.target.getAttribute('href'));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// js/main.js"],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A","sourceRoot":""}